{"version":3,"file":"dropzone.min.js","sources":["../src/dropzone.js"],"sourcesContent":["import $ from 'jquery';\nimport dropzone from 'repository_dropzone/dropzone-amd-module';\n\nexport const init = (chunkSize, maxFilesize, fallbackUploadUUID) => {\n    let filename = $('.fp-content form .fp-file input', parent.document);\n    filename.val(fallbackUploadUUID);\n\n    dropzone.autoDiscover = false;\n    new dropzone(\"#fileupload\", {\n        chunkSize: chunkSize,\n        maxFilesize: maxFilesize,\n        chunking: true,\n        maxFiles: 1,\n        parallelChunkUploads: true,\n        forceChunking: true,\n        chunksUploaded: function(file, done) {\n            filename.val(file.upload.uuid);\n            done();\n        }\n    }).on(\"maxfilesexceeded\", function(file) {\n        this.removeAllFiles(true);\n        this.addFile(file);\n    });\n};\n"],"names":["chunkSize","maxFilesize","fallbackUploadUUID","filename","parent","document","val","autoDiscover","dropzone","chunking","maxFiles","parallelChunkUploads","forceChunking","chunksUploaded","file","done","upload","uuid","on","removeAllFiles","addFile"],"mappings":"uaAGoB,CAACA,UAAWC,YAAaC,0BACrCC,UAAW,mBAAE,kCAAmCC,OAAOC,UAC3DF,SAASG,IAAIJ,+CAEJK,cAAe,MACpBC,2BAAS,cAAe,CACxBR,UAAWA,UACXC,YAAaA,YACbQ,UAAU,EACVC,SAAU,EACVC,sBAAsB,EACtBC,eAAe,EACfC,eAAgB,SAASC,KAAMC,MAC3BZ,SAASG,IAAIQ,KAAKE,OAAOC,MACzBF,UAELG,GAAG,oBAAoB,SAASJ,WAC1BK,gBAAe,QACfC,QAAQN"}